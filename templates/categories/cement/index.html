<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cement — Bricks & Blocks Mart</title>
  <link rel="stylesheet" href="/css/cart.css">
</head>

<body>

<!-- HEADER -->
<header class="header container">
  <div class="brand">
    <img src="/images/homepages/onebuild.png" alt="brand">
    <div>
      <div class="title">One-Build</div>
      <div class="subtitle">Cement </div>
    </div>
  </div>

  <div class="nav">
    <a href="/templates/homepageindex.html">Home</a>
    <a href="/templates/categories/sand/index.html">Sand</a>
    <a href="/templates/categories/electrics/index.html">Electric</a>
    <a href="/templates/categories/bricks_blocks/index.html">Bricks</a>

    <button class="cart-btn" onclick="location.href='/templates/cart.html'">
      Cart <span id="cart-badge">0</span>
    </button>
  </div>
</header>

<!-- MAIN CONTENT -->
<main class="container">
  <h1 class="page-title">Cement</h1>
  <div class="category-title">All Cement Products</div>

  <section class="grid" id="products-grid"></section>
</main>

<!-- ===========================
     QUICK VIEW MODAL
=========================== -->
<div id="modal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-box">

        <button id="closeModal" class="modal-close" aria-label="Close">×</button>

        <div class="modal-left">
            <img id="modalImg" class="modal-img" alt="product image">
        </div>

        <div class="modal-right">
            <h2 id="modalTitle"></h2>
            <p id="modalDesc" class="modal-desc"></p>

            <div id="modalTags" class="tag-container"></div>

            <h3 class="modal-price">₹<span id="modalPrice"></span></h3>

            <label for="modalQty">Qty</label>
            <input type="number" id="modalQty" value="1" min="1" class="qty-input">

            <div class="modal-buttons">
                <button class="add-btn" id="modalAddToCart">Add to cart</button>
                <a href="/templates/cartpayment/cart.html" class="order-btn">Go to order</a>
            </div>
        </div>

    </div>
</div>

<!-- JS FILES -->
<script src="/javascript/cart.js"></script>

<script>
/* ---------------------------
   CEMENT PRODUCT DATA (UPDATED TAGS)
--------------------------- */
const productsArray = [
  {
    id: "cement-opc53",
    name: "OPC 53 Grade Cement",
    price: 450,
    tags: ["High strength","Fast setting","Structural works","Bulk booking available"],
    img: "/images/cement/OPC53GradeCement.jpg",
    desc: "Ordinary Portland Cement 53 grade — high early strength for structural concrete."
  },
  {
    id: "cement-opc43",
    name: "OPC 43 Grade Cement",
    price: 420,
    tags: ["Standard","Durable","General construction","Bulk purchase discount"],
    img: "/images/cement/OPC43GradeCement.jpg",
    desc: "OPC 43 grade suitable for general construction, durable and cost efficient."
  },
  {
    id: "cement-ppc",
    name: "PPC Cement (Pozzolana)",
    price: 390,
    tags: ["Low heat","Smooth finish","Eco-friendly","Bulk order available","General construction"],
    img: "/images/cement/PPCCement(Pozzolana)Bag.jpg",
    desc: "Pozzolana Portland Cement — improved workability and reduced heat of hydration."
  },
  {
    id: "cement-psc",
    name: "PSC Cement (Portland Slag)",
    price: 400,
    tags: ["Slag mix","Marine use","Corrosion resistant","Bulk booking discount"],
    img: "/images/cement/PSCCement(Portland Slag)Bag.jpg",
    desc: "Portland Slag Cement — resistant to chemical attack, suitable for marine environments."
  },
  {
    id: "cement-white",
    name: "White Cement",
    price: 650,
    tags: ["Premium finish","Tiles","Decorative works","Bulk supply available"],
    img: "/images/cement/WhiteCementBag.jpg",
    desc: "White cement for decorative and architectural finishes, tile grouting and precast."
  },
  {
    id: "cement-rapid",
    name: "Rapid Hardening Cement",
    price: 480,
    tags: ["Fast set","Early strength","Repair works","Bulk booking","Genaral House Construction"],
    img: "/images/cement/Rapid Hardening Cement.png",
    desc: "Rapid Hardening Cement — quick strength gain for repairs and quick turnaround works."
  },
  {
    id: "cement-lowheat",
    name: "Low Heat Cement",
    price: 500,
    tags: ["Mass concrete","Low temperature","Large projects","Bulk orders accepted","General construction"],
    img: "/images/cement/Low Heat Cement.png",
    desc: "Low heat cement used for large mass concrete works to reduce thermal cracking."
  },
  {
    id: "cement-sr",
    name: "Shakti Cement",
    price: 520,
    tags: ["Chemical resistance","Durable","Sulfate protection","Bulk booking available"],
    img: "/images/cemenT/shakthicement.png",
    desc: "Sulfate Resisting Cement for structures exposed to sulfates and aggressive soils."
  },
  {
    id: "cement-masonry",
    name: "Ultra Cement",
    price: 350,
    tags: ["Brick masonry","Smooth","Mortar use","Bulk supply"],
    img: "/images/cement/ultra-cement.jpg",
    desc: "Masonry cement optimized for brick and block mortar with good workability."
  },
  {
    id: "cement-readymix",
    name: "Ramco Cement",
    price: 520,
    tags: ["Easy use","Consistent","Ready mix","Bulk order discount"],
    img: "/images/cement/ramco.png",
    desc: "Pre-blended ready-mix cement for consistent quality and convenient usage on site."
  }
];

/* ---------------------------
   INITIALIZE PAGE
--------------------------- */
document.addEventListener("DOMContentLoaded", () => {
  if (typeof renderProducts === "function") {
    renderProducts(productsArray, "products-grid");
  } else {
    const grid = document.getElementById("products-grid");
    grid.innerHTML = productsArray.map(p => `
      <div class="card">
        <div class="thumb" onclick="openModal('${p.id}', productsArray)">
          <img src="${p.img}" alt="${p.name}">
        </div>
        <h3>${p.name}</h3>
        <div class="price">₹${p.price}</div>
        <div class="chips">${p.tags.map(t => `<div class="chip">${t}</div>`).join('')}</div>
        <div class="row">
          <button class="btn add" onclick='addToCart(${JSON.stringify({id:p.id,name:p.name,price:p.price,img:p.img})})'>Add to Cart</button>
        </div>
      </div>
    `).join('');
  }
});

// extend modal description
const oldModal = window.openModal;
window.openModal = function(id, arr){
  const list = arr || productsArray;
  const p = list.find(x => x.id === id);
  if(!p){
    if(typeof oldModal === "function") return oldModal(id, arr);
    return;
  }
  if(typeof oldModal === "function") oldModal(id, list);
  document.getElementById("m-desc").innerText = p.desc || "";
};
</script>

</body>
</html>
