<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Insulation — Bricks & Blocks Mart</title>
   <link rel="stylesheet" href="/css/cart.css">
</head>

<body>

<!-- HEADER -->
<header class="header container">
  <div class="brand">
    <img src="/images/homepages/onebuild.png" alt="brand">
    <div>
      <div class="title">One-Build</div>
      <div class="subtitle">Insulation Materials</div>
    </div>
  </div>

  <div class="nav">
    <a href="/templates/homepageindex.html">Home</a>
    <a href="/templates/categories/sand/index.html">Sanitaryware</a>
    <a href="/templates/categories/Interiordesigns/index.html">Interior & Desings</a>
    <a href="/templates/categories/paints/index.html">Paints</a>

    <button class="cart-btn" onclick="location.href='/templates/cart.html'">
      Cart <span id="cart-badge">0</span>
    </button>
  </div>
</header>

<!-- MAIN CONTENT -->
<main class="container">
  <h1 class="page-title">Insulations</h1>
  <div class="category-title">Thermal & Acoustic Insulation Materials</div>

  <section class="grid" id="products-grid"></section>
</main>

<!-- QUICK VIEW MODAL -->
<div id="modal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-box">

        <button id="closeModal" class="modal-close" aria-label="Close">×</button>

        <div class="modal-left">
            <img id="modalImg" class="modal-img" alt="product image">
        </div>

        <div class="modal-right">
            <h2 id="modalTitle"></h2>
            <p id="modalDesc" class="modal-desc"></p>

            <div id="modalTags" class="tag-container"></div>

            <h3 class="modal-price">₹<span id="modalPrice"></span></h3>

            <label for="modalQty">Qty</label>
            <input type="number" id="modalQty" value="1" min="1" class="qty-input">

            <div class="modal-buttons">
                <button class="add-btn" id="modalAddToCart">Add to cart</button>
                <a href="/templates/cartpayment/cart.html" class="order-btn">Go to order</a>
            </div>
        </div>

    </div>
</div>

<script src="/javascript/cart.js"></script>
<script>
/* ---------------------------
   INSULATION PRODUCTS (5 TAGS EACH)
--------------------------- */
const productsArray = [
  {
    id: "ins-mineral-wool",
    name: "Mineral Wool (Rockwool)",
    price: 1800,
    tags: ["Thermal Insulation","Fire-resistant","Roof & Wall Use","High Temperature Safe","Bulk Booking Available"],
    img: "/images/insulation/Mineral Wool .png",
    desc: "High-temperature mineral wool for thermal & acoustic insulation. Ideal for roofs and walls."
  },
  {
    id: "ins-glass-wool",
    name: "Glass Wool",
    price: 1400,
    tags: ["Lightweight Material","Acoustic Absorption","Partition Walls","Ceiling Insulation","Bulk Booking Available"],
    img: "/images/insulation/Glass Wool.png",
    desc: "Flexible glass wool batts for partition walls and ceiling insulation with good sound absorption."
  },
  {
    id: "ins-eps",
    name: "Expanded Polystyrene (EPS)",
    price: 999,
    tags: ["Lightweight Boards","Economical","Cavity Wall Insulation","Moisture Resistant","Bulk Booking Available"],
    img: "/images/insulation/Expanded Polystyrene (EPS).png",
    desc: "EPS boards for cavity & external wall insulation — cost-effective and moisture resistant."
  },
  {
    id: "ins-xps",
    name: "Extruded Polystyrene (XPS)",
    price: 1650,
    tags: ["Rigid Boards","High Compressive Strength","Waterproof","Subfloor & Foundation Use",],
    img: "/images/insulation/Extruded Polystyrene (XPS).png",
    desc: "XPS rigid boards for subfloor and foundation insulation with excellent compressive strength."
  },
  {
    id: "ins-pu",
    name: "Polyurethane (PU) Foam Board",
    price: 3200,
    tags: ["High R-Value","Lightweight","Cold Room Use","Refrigerated Stores","Bulk Booking Available"],
    img: "/images/insulation/Polyurethane (PU) Foam Board.PNG",
    desc: "PU foam panels with high thermal resistance — used in cold rooms and refrigerated stores."
  },
  {
    id: "ins-pir",
    name: "PIR Insulation Board",
    price: 3400,
    tags: ["Thermal Efficiency","High Performance","Fire Retardant","Rigid Board","Bulk Booking Available"],
    img: "/images/insulation/PIR Insulation Board.png",
    desc: "Polyisocyanurate (PIR) boards offering superior thermal performance and fire retardance."
  },
  {
    id: "ins-reflective",
    name: "Reflective Foil Insulation",
    price: 550,
    tags: ["Reflective Foil","Radiant Heat Barrier","Roof Sarking","Multi-layer","Bulk Booking Available"],
    img: "/images/insulation/Reflective Foil Insulatio.png",
    desc: "Multi-layer reflective foil for roof sarking and radiant heat barrier applications."
  },
  {
    id: "ins-cellular-glass",
    name: "Cellular Glass (Foam Glass)",
    price: 4200,
    tags: ["Moisture Proof","Durable Material","Underground Use","External Tank Use","Bulk Booking Available"],
    img: "/images/insulation/Cellular Glass (Foam Glass).png",
    desc: "Closed-cell cellular glass for underground and external tank insulation; moisture-proof and long-lasting."
  },
  {
    id: "ins-acoustic-panel",
    name: "Acoustic Panel (Fiberglass)",
    price: 2200,
    tags: ["Acoustic Absorption","Studios & Offices","Auditorium Use","Bulk Booking Available"],
    img: "/images/insulation/Acoustic Panel (Fiberglass).png",
    desc: "Decorative fiberglass acoustic panels for studios, offices and auditoriums."
  },
  {
    id: "ins-blanket",
    name: "Insulation Blanket (Firewrap)",
    price: 900,
    tags: ["Firewrap Blanket","Flexible","Pipe & Duct Use","Fire Protection","Bulk Booking Available"],
    img: "/images/insulation/Insulation Blanket (Firewrap).png",
    desc: "Flexible fiberglass insulation blanket for ductwork, pipes and fire protection wrapping."
  }
];

/* ---------------------------
   INITIALIZE PAGE
--------------------------- */
document.addEventListener("DOMContentLoaded", () => {
  if (typeof renderProducts === "function") {
    renderProducts(productsArray, "products-grid");
  } else {
    const grid = document.getElementById("products-grid");
    grid.innerHTML = productsArray.map(p => `
      <div class="card">
        <div class="thumb" onclick="openModal('${p.id}', productsArray)">
          <img src="${p.img}" alt="${p.name}">
        </div>
        <h3>${p.name}</h3>
        <div class="price">₹${p.price}</div>
        <div class="chips">${p.tags.map(t=>`<div class="chip">${t}</div>`).join('')}</div>
        <div class="row">
          <button class="btn add" onclick='addToCart(${JSON.stringify({id:p.id,name:p.name,price:p.price,img:p.img})})'>Add to Cart</button>
        </div>
      </div>
    `).join('');
  }
});

/* ---------------------------
   EXTEND MODAL TO SHOW DESCRIPTION
--------------------------- */
const oldModal = window.openModal;
window.openModal = function(id, arr){
  const list = arr || productsArray;
  const p = list.find(x => x.id === id);
  if(!p){
    if(typeof oldModal === "function") return oldModal(id, arr);
    return;
  }
  if (typeof oldModal === "function") oldModal(id, list);
  const descEl = document.getElementById("m-desc");
  if(descEl) descEl.innerText = p.desc || "";
};
</script>

</body>
</html>
