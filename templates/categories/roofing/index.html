<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Roofing — Bricks & Blocks Mart</title>
  <link rel="stylesheet" href="/css/cart.css">
</head>

<body>

<!-- HEADER -->
<header class="header container">
  <div class="brand">
    <img src="/images/homepages/onebuild.png" alt="brand">
    <div>
      <div class="title">Bricks & Blocks Mart</div>
      <div class="subtitle">Roofing & Sheets</div>
    </div>
  </div>

  <div class="nav">
    <a href="/templates/homepageindex.html">Home</a>
    <a href="/templates/categories/roofing/index.html">Roofing</a>
    <a href="/templates/categories/plumbling/index.html">Plumbling</a>
    <a href="/templates/categories/sand/index.html">Sand</a>

    <button class="cart-btn" onclick="location.href='/templates/cart.html'">
      Cart <span id="cart-badge">0</span>
    </button>
  </div>
</header>

<!-- MAIN CONTENT -->
<main class="container">
  <h1 class="page-title">Roofing</h1>
  <div class="category-title">Roofing Sheets, Tiles & Accessories</div>

  <section class="grid" id="products-grid"></section>
</main>

<!-- ===========================
     QUICK VIEW MODAL (OPTION 1)
=========================== -->
<div id="modal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-box">

        <button id="closeModal" class="modal-close" aria-label="Close">×</button>

        <div class="modal-left">
            <img id="modalImg" class="modal-img" alt="product image">
        </div>

        <div class="modal-right">
            <h2 id="modalTitle"></h2>
            <p id="modalDesc" class="modal-desc"></p>

            <div id="modalTags" class="tag-container"></div>

            <h3 class="modal-price">₹<span id="modalPrice"></span></h3>

            <label for="modalQty">Qty</label>
            <input type="number" id="modalQty" value="1" min="1" class="qty-input">

            <div class="modal-buttons">
                <button class="add-btn" id="modalAddToCart">Add to cart</button>
                <a href="/templates/cartpayment/cart.html" class="order-btn">Go to order</a>
            </div>
        </div>

    </div>
</div>

<script src="/javascript/cart.js"></script>
<script>
/* ---------------------------
   ROOFING PRODUCTS (12 ITEMS)
   Each product has 5 tags & 5-line descriptions
--------------------------- */
const productsArray = [
  {
    id: "roof-gi-sheet",
    name: "GI Corrugated Sheet (0.5mm)",
    price: 2200,
    tags: ["Galvanized","Durable","Industrial","Rustproof","Strong"],
    img: "/images/roofing/GI Corrugated Sheet (0.5mm).jpeg",
    desc: "Galvanized iron corrugated sheet for long-lasting use.\nCorrosion-resistant for outdoor conditions.\nIdeal for industrial and warehouse roofing.\nStrong and rigid with easy installation.\nMaintenance-free for years."
  },
  {
    id: "roof-color-coated",
    name: "Color Coated Roofing Sheet",
    price: 2750,
    tags: ["Pre-painted","Aesthetic","Durable","UV Resistant","Lightweight"],
    img: "/images/roofing/Color Coated Roofing Sheet.jpeg",
    desc: "Pre-painted steel sheets with vibrant colors.\nProtective coating for long-lasting life.\nEnhances visual aesthetics of roofs.\nUV resistant and prevents fading.\nLightweight and easy to handle."
  },
  {
    id: "roof-aluminium",
    name: "Aluminium Roof Sheet",
    price: 4200,
    tags: ["Lightweight","Rustproof","Durable","Reflective","Easy Install"],
    img: "/images/roofing/Aluminium Roof Sheet.jpeg",
    desc: "Lightweight aluminium sheets for easy transport.\nRustproof and low maintenance.\nDurable and long-lasting for roofing.\nReflective surface helps in heat reduction.\nSimple installation for all roof types."
  },
  {
    id: "roof-polycarbonate",
    name: "Polycarbonate Sheet (Corrugated)",
    price: 1800,
    tags: ["Transparent","Impact-resistant","UV Protected","Lightweight",],
    img: "/images/roofing/Polycarbonate Sheet (Corrugated).jpeg",
    desc: "Clear corrugated sheets for skylights.\nImpact-resistant and durable for all weather.\nUV-protected for long-lasting clarity.\nLightweight and easy to install.\nProvides natural daylight and aesthetic look."
  },
  {
    id: "roof-upvc",
    name: "uPVC Roofing Sheet",
    price: 1500,
    tags: ["Waterproof","Lightweight","Durable","Insulated",],
    img: "/images/roofing/uPVC Roofing Sheet.jpeg",
    desc: "uPVC sheets ideal for sheds and canopies.\nWaterproof and durable for all weather.\nLightweight and easy to handle.\nProvides thermal insulation and safety.\nLow maintenance and long-lasting use."
  },
  {
    id: "roof-asphalt-shingle",
    name: "Asphalt Shingles",
    price: 3200,
    tags: ["Shingle","Waterproof","Flexible","UV Resistant","Economical"],
    img: "/images/roofing/Asphalt Shingles.jpeg",
    desc: "Asphalt shingles for pitched roofs.\nWaterproof and durable against rain.\nFlexible material adapts to roof shapes.\nUV resistant to prevent fading.\nEconomical option for long-term roofing."
  },
  {
    id: "roof-clay-tile",
    name: "Clay Roofing Tile",
    price: 75,
    tags: ["Traditional","Terracotta","Insulating","Eco-friendly","Aesthetic"],
    img: "/images/roofing/Clay Roofing Tile.jpeg",
    desc: "Terracotta clay tiles for rustic appearance.\nNatural insulation for heat and cold.\nEco-friendly material for sustainable roofing.\nDurable and weather-resistant.\nAdds aesthetic appeal to houses. Price per piece."
  },
  {
    id: "roof-concrete-tile",
    name: "Concrete Roof Tile",
    price: 65,
    tags: ["Strong","Economical","Durable","Weatherproof","Easy Install"],
    img: "/images/roofing/Concrete Roof Tile.jpeg",
    desc: "Precast concrete tiles for residential roofing.\nStrong and long-lasting material.\nEconomical for large areas.\nWeatherproof and low maintenance.\nEasy to install with minimal tools. Price per piece."
  },
  {
    id: "roof-bitumen-felt",
    name: "Bitumen Felt (Membrane)",
    price: 950,
    tags: ["Waterproof","Underlayer","Durable","Flexible","UV Resistant"],
    img: "/images/roofing/Bitumen Felt (Membrane).jpeg",
    desc: "Bitumen membrane for waterproofing flat roofs.\nActs as underlayer beneath tiles.\nDurable and flexible for easy installation.\nUV resistant to prevent cracking.\nProvides long-term roof protection. Price per roll."
  },
  {
    id: "roof-ridge-cap",
    name: "Ridge Cap (Metal)",
    price: 220,
    tags: ["Accessory","Finish","Waterproof","Metallic","Durable"],
    img: "/images/roofing/Ridge Cap.png",
    desc: "Metal ridge cap for roof finishing.\nPrevents water ingress at ridges.\nDurable and corrosion-resistant.\nEasy to install with nails or screws.\nProvides clean, aesthetic finish. Price per meter."
  },
  {
    id: "roof-purlin",
    name: "Purlin (C Channel)",
    price: 320,
    tags: ["Support","Structural","Durable","Metallic","Easy Install"],
    img: "/images/roofing/Purlin (C Channel) without background .png",
    desc: "C-section purlin for metal shed support.\nProvides structural integrity for roofs.\nDurable and corrosion-resistant.\nEasy to install and align.\nPrice per meter, ideal for large projects."
  },
  {
    id: "roof-insulation-panel",
    name: "Insulated Sandwich Panel",
    price: 5200,
    tags: ["Insulated","Coldroom","Thermal","Durable","Lightweight"],
    img: "/images/roofing/Insulated Sandwich Panel.jpeg",
    desc: "PU insulated panels for cold rooms.\nHigh thermal efficiency and insulation.\nLightweight and easy to handle.\nDurable for long-term applications.\nIdeal for insulated roofing systems."
  }
];

/* ---------------------------
   INITIALIZE PAGE
--------------------------- */
document.addEventListener("DOMContentLoaded", () => {
  if (typeof renderProducts === "function") {
    renderProducts(productsArray, "products-grid");
  } else {
    const grid = document.getElementById("products-grid");
    grid.innerHTML = productsArray.map(p => `
      <div class="card">
        <div class="thumb" onclick="openModal('${p.id}', productsArray)">
          <img src="${p.img}" alt="${p.name}">
        </div>
        <h3>${p.name}</h3>
        <div class="price">₹${p.price}</div>
        <div class="chips">${p.tags.map(t=>`<div class="chip">${t}</div>`).join('')}</div>
        <div class="row">
          <button class="btn add" onclick='addToCart(${JSON.stringify({id:p.id,name:p.name,price:p.price,img:p.img})})'>Add to Cart</button>
        </div>
      </div>
    `).join('');
  }
});

/* ---------------------------
   EXTEND MODAL (Description)
--------------------------- */
const oldModal = window.openModal;
window.openModal = function(id, arr){
  const list = arr || productsArray;
  const p = list.find(x => x.id === id);
  if(!p){
    if(typeof oldModal === "function") return oldModal(id, arr);
    return;
  }
  if (typeof oldModal === "function") oldModal(id, list);
  const descEl = document.getElementById("m-desc");
  if(descEl) descEl.innerText = p.desc || "";
};
</script>

</body>
</html>
