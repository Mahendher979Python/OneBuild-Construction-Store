<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Plumbing & One Build</title>
  <link rel="stylesheet" href="/css/cart.css">
</head>

<body>

<!-- HEADER -->
<header class="header container">
  <div class="brand">
    <img src="/images/homepages/onebuild.png" alt="brand">
    <div>
      <div class="title">One-Build</div>
      <div class="subtitle">Plumbing Materials</div>
    </div>
  </div>

  <div class="nav">
    <a href="/templates/homepageindex.html">Home</a>
    <a href="/templates/categories/sand/index.html">Sand</a>
    <a href="/templates/categories/aggregates/index.html">Aggregates</a>
    <a href="/templates/categories/bricks_blocks/index.html">Bricks</a>

    <button class="cart-btn" onclick="location.href='/templates/cart.html'">
      Cart <span id="cart-badge">0</span>
    </button>
  </div>
</header>

<!-- MAIN CONTENT -->
<main class="container">
  <h1 class="page-title">Plumbing</h1>
  <div class="category-title">Pipes, Fittings & Water Supply Items</div>

  <section class="grid" id="products-grid"></section>
</main>

<!-- QUICK VIEW MODAL -->
<div id="modal" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-box">

        <button id="closeModal" class="modal-close" aria-label="Close">×</button>

        <div class="modal-left">
            <img id="modalImg" class="modal-img" alt="product image">
        </div>

        <div class="modal-right">
            <h2 id="modalTitle"></h2>
            <p id="modalDesc" class="modal-desc"></p>

            <div id="modalTags" class="tag-container"></div>

            <h3 class="modal-price">₹<span id="modalPrice"></span></h3>

            <label for="modalQty">Qty</label>
            <input type="number" id="modalQty" value="1" min="1" class="qty-input">

            <div class="modal-buttons">
                <button class="add-btn" id="modalAddToCart">Add to cart</button>
                <a href="/templates/cartpayment/cart.html" class="order-btn">Go to order</a>
            </div>
        </div>

    </div>
</div>

<script src="/javascript/cart.js"></script>
<script>
/* ---------------------------
   PLUMBING PRODUCTS (5 TAGS + 5-LINE DESCRIPTION)
--------------------------- */
const productsArray = [
  {
    id: "plumb-upvc",
    name: "UPVC Pipe (3m)",
    price: 320,
    tags: ["UPVC Material","Cold Water Supply","Durable","Easy Installation","Bulk Orders Available"],
    img: "/images/plumbing/plumbingCPVCPipe.png",
    desc: "High-quality UPVC pipe suitable for cold-water plumbing lines.\n" +
          "Durable and corrosion-resistant for long service life.\n" +
          "Smooth inner surface ensures steady water flow.\n" +
          "Suitable for domestic and commercial applications.\n" +
          "Available for bulk orders at competitive rates."
  },
  {
    id: "plumb-cpvc",
    name: "CPVC Pipe (3m)",
    price: 450,
    tags: ["CPVC Material","Hot & Cold Water","Corrosion Resistant","Easy to Cut","Bulk Orders Available"],
    img: "/images/plumbing/pvcbulk.png",
    desc: "CPVC pipe ideal for hot and cold-water distribution systems.\n" +
          "High-temperature resistance for safe hot water use.\n" +
          "Smooth bore ensures efficient water flow.\n" +
          "Non-toxic material safe for drinking water.\n" +
          "Bulk supply options available for contractors."
  },
  {
    id: "plumb-pvc",
    name: "PVC Drainage Pipe",
    price: 280,
    tags: ["PVC Material","Drainage","Sewer Lines","Lightweight","Bulk Orders Available"],
    img: "/images/plumbing/drainaz.png",
    desc: "PVC pipe for drainage, waste disposal, and rainwater carry lines.\n" +
          "Lightweight and easy to handle during installation.\n" +
          "Smooth interior reduces clogging.\n" +
          "Durable against chemical corrosion.\n" +
          "Available in bulk for commercial projects."
  },
  {
    id: "plumb-tap",
    name: "Water Tap (Brass)",
    price: 199,
    tags: ["Brass Material","Durable","Indoor & Outdoor","Rust Resistant","Bulk Orders Available"],
    img: "/images/plumbing/watertop.png",
    desc: "Long-lasting brass tap suitable for indoor and outdoor usage.\n" +
          "Rust-resistant finish for prolonged durability.\n" +
          "Smooth flow control with ergonomic handle.\n" +
          "Easy to install in bathrooms and kitchens.\n" +
          "Bulk purchase discounts available."
  },
  {
    id: "plumb-angle-valve",
    name: "Angle Valve",
    price: 149,
    tags: ["Chrome Plated","Control Valve","Wash Basin Use","Flush Tank Use","Bulk Orders Available"],
    img: "/images/plumbing/Angle Valve.png",
    desc: "Chrome-plated angle valve for wash basins and flush tanks.\n" +
          "Precise flow control for water conservation.\n" +
          "Corrosion-resistant metal for long life.\n" +
          "Easy to install with standard fittings.\n" +
          "Available in bulk for contractors and builders."
  },
  {
    id: "plumb-flush",
    name: "Flush Tank",
    price: 1200,
    tags: ["Dual Flush","Water Saving","Bathroom Use","Durable Plastic","Bulk Orders Available"],
    img: "/images/plumbing/plumblingFlushTank.png",
    desc: "Compact dual-flush tank for bathrooms with water-saving mechanism.\n" +
          "High-quality plastic material for durability.\n" +
          "Smooth operation for silent flushing.\n" +
          "Suitable for all modern toilets.\n" +
          "Bulk supply available for projects and hotels."
  },
  {
    id: "plumb-shower",
    name: "Shower Head",
    price: 850,
    tags: ["Rain Style","Chrome Finish","Smooth Flow","Easy Mounting","Bulk Orders Available"],
    img: "/images/plumbing/plumblingShowerHead.png",
    desc: "Rain-style shower head with smooth chrome finish.\n" +
          "Provides wide and even water distribution.\n" +
          "Durable metal construction ensures longevity.\n" +
          "Fits standard bathroom fittings easily.\n" +
          "Bulk orders for hotels and large projects available."
  },
  {
    id: "plumb-floor-trap",
    name: "Floor Trap (SS)",
    price: 450,
    tags: ["Stainless Steel","Drainage","Bathroom Use","Rust Resistant","Bulk Orders Available"],
    img: "/images/plumbing/plumblingfloorTrappng.png",
    desc: "High-quality stainless steel floor trap for bathrooms and washrooms.\n" +
          "Prevents clogging and odors effectively.\n" +
          "Corrosion-resistant for long service life.\n" +
          "Easy to clean and maintain.\n" +
          "Available for bulk purchase for construction projects."
  },
  {
    id: "plumb-sink",
    name: "Kitchen Sink (Stainless Steel)",
    price: 3500,
    tags: ["Stainless Steel","Kitchen Use","Durable","Noise Reduction","Bulk Orders Available"],
    img: "/images/plumbing/plumblingkitchenSink.png",
    desc: "Premium stainless steel kitchen sink with noise-reduction coating.\n" +
          "Durable and resistant to scratches.\n" +
          "Fits modern kitchen designs seamlessly.\n" +
          "Easy to clean and maintain hygiene.\n" +
          "Bulk orders for residential and commercial kitchens available."
  },
  {
    id: "plumb-meter",
    name: "Water Meter",
    price: 1600,
    tags: ["Accurate Measurement","Domestic Use","Durable","Easy Installation",],
    img: "/images/plumbing/plunblingwatertap.png",
    desc: "Accurate domestic water meter for main inlet pipeline.\n" +
          "High-precision measurement ensures correct billing.\n" +
          "Durable construction for long service life.\n" +
          "Easy to install and maintain.\n" +
          "Available in bulk for apartment complexes and commercial buildings."
  }
];

/* ---------------------------
   INITIALIZE PAGE
--------------------------- */
document.addEventListener("DOMContentLoaded", () => {
  renderProducts(productsArray, "products-grid");
});

/* ---------------------------
   EXTEND MODAL FOR DESCRIPTION
--------------------------- */
const oldModal = window.openModal;
window.openModal = function(id, arr){
  const list = arr || productsArray;
  const p = list.find(x => x.id === id);
  if(!p){
    if(typeof oldModal === "function") return oldModal(id, arr);
    return;
  }
  if (typeof oldModal === "function") oldModal(id, list);
  document.getElementById("m-desc").innerText = p.desc || "";
};
</script>

</body>
</html>
