<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Orders - Builders Mart</title>

    <style>

body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: white; 
    color: #000;
}

/* ================= NAVBAR ================= */
nav{
    width:100%;
    padding:16px 40px;
    background:#ffffff;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:sticky;
    top:0;
    z-index:20;
    border-bottom:1px solid #d1d5db;
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
}

nav .logo{
    font-size:22px;
    font-weight:800;
    color:#1e1e1e;
}

nav ul{
    list-style:none;
    display:flex;
    gap:30px;
}

nav ul li{
    display:inline-block;
}

nav ul li a{
    text-decoration:none;
    font-size:15px;
    color:#2d2d2d;
    font-weight:600;
    transition:0.2s;
}

nav ul li a:hover{
    color:#0078ff;
}

/* HEADER */
.header {
    background: #131313;
    padding: 20px;
    text-align: center;
    font-size: 22px;
    font-weight: bold;
    color: white;
}

/* PAGE TITLE */
.page-title { 
    text-align: center; 
    padding: 20px; 
    color:#000;
}

/* ORDERS TABLE CONTAINER */
.orders-container {
    width: 90%;
    margin: auto;
    margin-bottom: 40px;
}

/* TABLE STYLING */
table { 
    width: 100%; 
    border-collapse: collapse; 
    background: #ffffff; 
    border-radius: 10px; 
    overflow: hidden; 
    border: 1px solid #cfcfcf;
}

table th { 
    padding: 12px; 
    background: #e8e8e8; 
    text-align: left; 
    color:#000;
    border-bottom: 1px solid #ccc;
}

table td { 
    padding: 12px; 
    border-bottom: 1px solid #ddd; 
    color:#000;
}

/* STATUS LABELS */
.status { 
    padding: 5px 10px; 
    border-radius: 5px; 
    color: #fff; 
}
.delivered { background: #28a745; }
.pending { background: #ffc107; color: #000; }
.cancelled { background: #dc3545; }

/* VIEW BUTTON */
.view-btn {
    background: #007bff;
    padding: 6px 12px;
    color: #fff;
    border-radius: 5px;
    border:none;
    cursor: pointer;
}
.view-btn:hover { 
    background: #02459c; 
}

/* MODAL OVERLAY */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
}

/* MODAL BOX */
.modal-content {
    background: #ffffff;
    width: 80%;
    max-width: 600px;
    padding: 20px;
    border-radius: 12px;
    color:#000;
    border: 1px solid #ccc;
}

/* CLOSE BUTTON */
.close {
    color: #555;
    float: right;
    font-size: 28px;
    cursor: pointer;
}

.close:hover { color: #000; }

    </style>
</head>
<body>

<!-- ================= NAVBAR ================= -->
<nav>
    <div class="logo">ONE-BUILD</div>

    <ul>
        <li><a href="/templates/homepageindex.html">Home</a></li>
        <li><a href="/templates/firstfooter/customersupport/contact.html">Contact</a></li>
        <li><a href="/templates/secounfooter/overview/about.html">About</a></li>
        <li><a href="/templates/orders/myorders.html">My Orders</a></li>
    </ul>
</nav>

<!-- HEADER -->
<header class="header">
    <h2>ONE-BUILD | ORDERS</h2>
</header>

<!-- PAGE TITLE -->
<div class="page-title">
    <h2>My Orders</h2>
    <p>Track all your placed orders</p>
</div>

<!-- ORDERS TABLE -->
<div class="orders-container">
    <table>
        <thead>
            <tr>
                <th>Order ID</th>
                <th>Date</th>
                <th>Items</th>
                <th>Total Amount</th>
                <th>Status</th>
                <th>View</th>
            </tr>
        </thead>
        <tbody id="orders-list"></tbody>
    </table>
</div>

<!-- ORDER VIEW POPUP -->
<div id="orderModal" class="modal">
    <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
        <h2>Order Details</h2>
        <div id="orderDetails"></div>
    </div>
</div>

<script>

/* ORDER DATA (STATIC) */
const orders = [
    {
        id: "ORD12345",
        date: "2025-01-21",
        amount: "₹18,500",
        status: "Delivered",
        itemsList: [
            { name: "Cement (UltraTech)", qty: "10 Bags", price: "₹3,500" },
            { name: "Sand (Fine)", qty: "1 Tractor", price: "7,000" },
            { name: "TMT Bars 12mm", qty: "50kg", price: "₹8,000" }
        ]
    },
    {
        id: "ORD12346",
        date: "2025-01-28",
        amount: "₹6,200",
        status: "Pending",
        itemsList: [
            { name: "Red Bricks", qty: "500 pcs", price: "₹6,200" }
        ]
    },
    {
        id: "ORD12347",
        date: "2025-02-02",
        amount: "₹22,300",
        status: "Cancelled",
        itemsList: [
            { name: "Steel Pipes", qty: "20 pcs", price: "₹12,000" },
            { name: "Floor Tiles", qty: "10 boxes", price: "₹10,300" }
        ]
    }
];

/* LOAD ORDERS INTO TABLE */
function loadOrders() {
    const container = document.getElementById("orders-list");

    orders.forEach((order, index) => {
        const row = document.createElement("tr");

        row.innerHTML = `
            <td>${order.id}</td>
            <td>${order.date}</td>
            <td>${order.itemsList.length} Items</td>
            <td>${order.amount}</td>
            <td><span class="status ${order.status.toLowerCase()}">${order.status}</span></td>
            <td><button class="view-btn" onclick="openOrder(${index})">View</button></td>
        `;

        container.appendChild(row);
    });
}

/* OPEN ORDER MODAL */
function openOrder(index) {
    const order = orders[index];
    const modal = document.getElementById("orderModal");
    const details = document.getElementById("orderDetails");

    let html = `
        <h3>Order ID: ${order.id}</h3>
        <p><strong>Date:</strong> ${order.date}</p>
        <p><strong>Status:</strong> ${order.status}</p>
        <p><strong>Total Amount:</strong> ${order.amount}</p>

        <h3>Items:</h3>
        <ul>
    `;

    order.itemsList.forEach(item => {
        html += `
            <li>
                <strong>${item.name}</strong><br>
                Qty: ${item.qty} | Price: ${item.price}
            </li><br>
        `;
    });

    html += "</ul>";

    details.innerHTML = html;

    modal.style.display = "flex";
}

/* CLOSE MODAL */
document.getElementById("closeModal").onclick = function () {
    document.getElementById("orderModal").style.display = "none";
};

/* CLOSE WHEN CLICK OUTSIDE */
window.onclick = function (e) {
    const modal = document.getElementById("orderModal");
    if (e.target === modal) modal.style.display = "none";
};

loadOrders();

</script>
</body>
</html>
