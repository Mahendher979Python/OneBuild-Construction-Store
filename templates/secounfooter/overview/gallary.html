<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>OneBuild — Construction Gallery (Images & Videos)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg: #0f1724;
    --card: #0b1220;
    --muted: #9aa4b2;
    --accent: #ff7b00;
    --glass: rgba(255,255,255,0.03);
    --white: #ffffff;
    --max-width: 1200px;
    --gap: 14px;
    font-family: Inter, system-ui, "Segoe UI", Roboto, Arial;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    background:linear-gradient(180deg,#071022 0%, #08111a 60%);
    color:var(--white);
    line-height:1.45;
  }

  /* NAVBAR */
  nav{
    width:100%;
    background:#ffffff;
    padding:12px 20px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    position:sticky;
    top:0;
    z-index:2000;
    border-bottom:1px solid #e5e7eb;
  }
  nav a{color:#000;font-weight:600;text-decoration:none;margin-right:18px}

  .wrap{max-width:var(--max-width);margin:20px auto;padding:18px}

  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    gap:var(--gap);
    margin-top:18px;
  }

  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
    border-radius:12px;
    overflow:hidden;
    box-shadow:0 8px 30px rgba(2,6,23,0.6);
  }

  .media{height:190px;position:relative;overflow:hidden;background:#000;cursor:pointer}
  .media img{width:100%;height:100%;object-fit:cover;transition:.35s}
  .card:hover .media img{transform:scale(1.03)}

  .meta{padding:12px}
  .title{font-weight:700;font-size:15px}
  .sub{font-size:13px;color:var(--muted)}

  .video-badge{
    position:absolute;left:10px;bottom:10px;
    background:rgba(0,0,0,0.55);
    padding:6px 8px;border-radius:8px;font-size:13px;font-weight:700;
  }

  .play-icon{
    position:absolute;right:10px;bottom:10px;
    background:var(--accent);height:40px;width:40px;
    border-radius:50%;display:flex;align-items:center;justify-content:center;
    font-weight:900;color:#061021;
  }

  /* LIGHTBOX */
  .overlay{
    position:fixed;inset:0;background:rgba(2,6,23,0.9);
    display:none;align-items:center;justify-content:center;z-index:2400;
    padding:18px;
  }
  .overlay.open{display:flex}

  .lightbox{
    max-width:1100px;width:100%;
    display:flex;gap:12px;
  }

  .lb-media{flex:1;max-height:80vh;display:flex;align-items:center;justify-content:center;position:relative}
  .lb-side{width:340px;background:#07111a;padding:12px;border-radius:8px;overflow:auto}

  .lb-title{font-size:18px;font-weight:700;margin-bottom:6px}
  .lb-desc{font-size:14px;color:var(--muted);margin-bottom:12px}

  .icon-btn{
    background:rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.15);
    padding:8px 10px;border-radius:8px;color:white;cursor:pointer;margin-bottom:8px;width:100%;
  }

  .nav-arrows{
    position:absolute;left:5px;right:5px;top:50%;
    display:flex;justify-content:space-between;pointer-events:none;
  }
  .nav-arrows button{
    pointer-events:auto;
    background:rgba(0,0,0,0.45);
    border:0;color:white;padding:10px;border-radius:6px;
  }

  .video-frame{width:100%;max-height:80vh;border-radius:8px}

  @media(max-width:820px){
    .lb-side{display:none}
  }
</style>
</head>
<body>

<!-- NAVBAR -->
<nav>
  <div style="display:flex;align-items:center;gap:10px;cursor:pointer" onclick="location.href='/templates/homepageindex.html'">
    <img src="/images/homepages/onebuild.png" style="height:42px;width:42px;border-radius:8px;">
  </div>

  <div>
    <a href="/templates/homepageindex.html">Home</a>
    <a href="/templates/topnavbar/seller_registration.html">Business Register</a>
    <a href="/templates/firstfooter/customersupport/contact.html">Contact</a>
  </div>
</nav>

<div class="wrap">
  <h2 style="margin:0 0 12px;">Construction Gallery</h2>

  <div class="grid" id="galleryGrid"></div>
</div>

<!-- LIGHTBOX -->
<div id="overlay" class="overlay">
  <div class="lightbox">
    <div class="lb-media" id="lbMedia">
      <div class="nav-arrows">
        <button id="prevBtn">◀</button>
        <button id="nextBtn">▶</button>
      </div>
    </div>

    <aside class="lb-side">
      <div class="lb-title" id="lbTitle"></div>
      <div class="lb-desc" id="lbDesc"></div>

      <button class="icon-btn" id="lbDownload">⬇ Download</button>
      <button class="icon-btn" id="lbOpen">↗ Open</button>
      <button class="icon-btn" id="lbClose">✕ Close</button>
    </aside>
  </div>
</div>

<script>
/* ========= MEDIA ITEMS ========= */
const mediaItems = [
 
  { id:'m1', type:'image', src:'/images/gallary/renovation.png', title:'Renovation Home', desc:' House_Construction_Before_and_After' },
  { id:'m2', type:'image', src:'/images/gallary/Interior-Design.png', title:'Interior-Design', desc:'Before and after interior designing' },
  { id:'m3', type:'image', src:'/images/gallary/apartment.png', title:'House Apartment building', desc:'Contemporary apartment building' },
    { id:'m4', type:'image', src:'/images/gallary/gatedcommunity.png', title:'Gated community', desc:'Fully constructed Gated Community' },

  { id:'v1', type:'youtube', youtubeId:'UKMMJzuciRM', title:'Luxury Modern House in 8K ', desc:'Full video walkthrough of a luxury villa.' },
  { id:'v2', type:'youtube', youtubeId:'d3Qsuogaki0', title:'Modern Villa — Exterior ', desc:'Full video walkthrough of a luxury villa.' },
  { id:'v3', type:'youtube', youtubeId:'Ce1_ae0EGUk', title:'Home Construction  ', desc:'House Construction Time Lapse 1268.' },
  { id:'v4', type:'youtube', youtubeId:'F4eNSrJvDXs', title:'Villa construction',desc:'This 3D prints buils a house in hours' },
  
];

function ytThumb(id){ 
  return `https://img.youtube.com/vi/${id}/hqdefault.jpg`; 
}

/* RENDER GRID */
const grid = document.getElementById('galleryGrid');

function createCard(item){
  const el = document.createElement('div');
  el.className = 'card';

  const media = document.createElement('div');
  media.className = 'media';

  const img = document.createElement('img');
  img.src = item.type === 'image' ? item.src : ytThumb(item.youtubeId);
  media.appendChild(img);

  if(item.type !== 'image'){
    media.innerHTML += `
      <div class="video-badge">VIDEO</div>
      <div class="play-icon">▶</div>
    `;
  }

  media.onclick = ()=> openItem(item);

  const meta = document.createElement('div');
  meta.className = 'meta';
  meta.innerHTML = `
    <div class="title">${item.title}</div>
    <div class="sub">${item.desc}</div>
  `;

  el.appendChild(media);
  el.appendChild(meta);
  return el;
}

function renderGrid(items){
  grid.innerHTML = '';
  items.forEach(i => grid.appendChild(createCard(i)));
}

renderGrid(mediaItems);

/* LIGHTBOX */
const overlay = document.getElementById('overlay');
const lbMedia = document.getElementById('lbMedia');
const lbTitle = document.getElementById('lbTitle');
const lbDesc = document.getElementById('lbDesc');
const lbDownload = document.getElementById('lbDownload');
const lbOpen = document.getElementById('lbOpen');

let currentIndex = -1;

function openItem(item){
  currentIndex = mediaItems.findIndex(m => m.id === item.id);
  showItem(currentIndex);
}

function showItem(i){
  const item = mediaItems[i];
  overlay.classList.add('open');
  lbTitle.innerText = item.title;
  lbDesc.innerText = item.desc;

  lbMedia.innerHTML = '';

  /* IMAGE */
  if(item.type === 'image'){
    lbDownload.style.display = 'block';
    lbOpen.style.display = 'block';

    lbDownload.onclick = ()=> window.open(item.src);
    lbOpen.onclick = ()=> window.open(item.src);

    lbMedia.innerHTML = `<img src="${item.src}" style="max-height:80vh;max-width:100%;">`;
  }

  /* YOUTUBE */
  else if(item.type === 'youtube'){
    lbDownload.style.display = 'none';
    lbOpen.style.display = 'block';

    lbOpen.onclick = ()=> window.open(`https://youtube.com/watch?v=${item.youtubeId}`);

    lbMedia.innerHTML = `
      <iframe class="video-frame"
      src="https://www.youtube.com/embed/${item.youtubeId}?autoplay=1"
      allow="autoplay"></iframe>
    `;
  }

  /* MP4 VIDEO */
  else if(item.type === 'video'){
    lbDownload.style.display = 'block';
    lbOpen.style.display = 'block';

    lbDownload.onclick = ()=> window.open(item.src);
    lbOpen.onclick = ()=> window.open(item.src);

    lbMedia.innerHTML = `
      <video controls autoplay style="width:100%;max-height:80vh;border-radius:8px;">
        <source src="${item.src}" type="video/mp4">
      </video>
    `;
  }
}

document.getElementById('lbClose').onclick = ()=> overlay.classList.remove('open');
document.getElementById('prevBtn').onclick = ()=> { if(currentIndex>0) showItem(--currentIndex); }
document.getElementById('nextBtn').onclick = ()=> { if(currentIndex<mediaItems.length-1) showItem(++currentIndex); };

</script>
</body>
</html>