<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login Page</title>
  <link rel="stylesheet" href="/css/register.css" />
</head>

<body>
  <main class="login-container">
    <form class="login-box" id="loginForm" autocomplete="off">
      <h2><i class="fa fa-user-circle"></i> Log In</h2>

      <!-- USERNAME OR EMAIL -->
      <label for="username">Username / Gmail</label>
      <div class="input-group">
        <i class="fa fa-user"></i>
        <input type="text" id="username" name="username" required />
      </div>

      <!-- PASSWORD -->
      <label for="password">Password</label>
      <div class="input-group">
        <i class="fa fa-lock"></i>
        <input type="password" id="password" name="password" required />
      </div>

      <!-- OPTIONS -->
      <div class="options">
        <label><input type="checkbox" id="showPassword" /> Show password</label>
        <a href="forget.html">Forgot password?</a>
      </div>

      <button type="submit">Log in</button>

      <p class="register-link">
        Don't have an account? <a href="register.html">Register now</a>
      </p>
    </form>
  </main>

  <!-- LOGIN VALIDATION SCRIPT -->
  <script>
    const form = document.getElementById("loginForm");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const usernameInput = document.getElementById("username").value.trim();
      const passwordInput = document.getElementById("password").value;

      /* --------------------------------------------
        VALID USERNAME OR EMAIL CHECK
      -------------------------------------------- */
      const usernamePattern = /^[a-zA-Z0-9]{3,15}$/;     // allowed username
      const gmailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/; // allowed Gmail only

      if (!(usernamePattern.test(usernameInput) || gmailPattern.test(usernameInput))) {
        alert("❌ Enter a valid Username (3–15 characters) OR a valid Gmail address.");
        return;
      }

      /* --------------------------------------------
        PASSWORD VALIDATION (SECURE)
      -------------------------------------------- */
      const passwordPattern =
        /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/;

      if (!passwordPattern.test(passwordInput)) {
        alert("❌ Invalid Password!\nPassword must contain:\n• 6+ characters\n• One uppercase letter\n• One lowercase letter\n• One number");
        return;
      }

      /* --------------------------------------------
        LOGIN SUCCESS (ALL VALID)
      -------------------------------------------- */
      alert("✅ Login Successful!\nDetails are valid & secure.");
    });

    /* --------------------------------------------
      SHOW / HIDE PASSWORD
    -------------------------------------------- */
    document.getElementById("showPassword").addEventListener("change", function () {
      const passwordField = document.getElementById("password");
      passwordField.type = this.checked ? "text" : "password";
    });
  </script>

</body>

</html>
